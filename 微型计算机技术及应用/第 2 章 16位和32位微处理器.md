![大纲](http://data.14log.com/images/microcomputer/2mind.png)  

---  

微处理器的性能指标主要有两个 `字长` 、 `主频`。

1. `字长`就是CPU能同时处理的数据位数，即数据宽度。8086/80286都是16位的字长。
2. `主频`就是CPU的时钟频率，8086的主频是10MHz，则1个时钟周期就是100ns。而在8086中，一个最基本的总线周期由4个时钟周期组成。

# 一、 16位微处理器8086

## 1、 8086的编程结构

所谓的编程结构就是指从程序员和使用者角度看到的结构，当然这种结构与CPU内部的物理结构和实际布局是不同的。我们要想掌握一个CPU的性能和`使用方法`，就必须要了解它的编程结构。如图：

![8086编程结构](http://data.14log.com/images/microcomputer/8086PC.png "8086的编程结构")

由图我们可以看到8086分为二个部分：

### 总线结构部件

总线结构部件的功能是负责与存储器、I/O端口之间传送数据。

- 4个段地址寄存器
    CS  16位的代码段寄存器
    DS  16位的数据段寄存器
    ES  16位的附加段寄存器
    SS  16位的堆栈段寄存器  
- 16位的指令指针寄存器IP  
- 20位的地址加法器  
- 6`字节`的指令队列缓冲器

### 执行部件

负责指令的执行。

- 4个通用寄存器，即AX、BX、CX、DX  
- 4个专用寄存器，即BP、SP、SI、DI  
- 标志寄存器  
- 算术逻辑部件  

在汇编中我们最最常用的就是AX寄存器（累加器），指令系统中许多指令都是利用累加器来执行的。  

在这里重点说明一下标志寄存器各个位置的含义  

| 15 | 14 | 13 | 12 | 11 | 10 | 9 | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
|  |  |  |  | OF | DF | IF | TF | SF | ZF |  | AF |  | PF |  | CF |

0&nbsp;2&nbsp;4&nbsp;6&nbsp;7&nbsp;8&nbsp;9&nbsp;10&nbsp;11  
C&nbsp;P&nbsp;A&nbsp;Z&nbsp;S&nbsp;T&nbsp;I&nbsp;D&nbsp;O （T位不显示）
  
:blush:

| 标志名|标志为1|标志为0|
|--|:--:|:--:|
|OF 溢出（是/否）|OV|NV|
|DF 方向（减量/增量）|DN|UP|
|IF 中断（允许/关闭）|EI|DI|
|SF 符号（负/正）|NG|PL|
|ZF 零（是/否）|ZR|NZ|
|AF 辅助进位（是/否）|AC|NA|
|PF 奇偶（偶/奇）|PE|PO|
|CF 进位（是/否）|CY|NC|

在用debug调试汇编程序的时候，在上面显示就是这些具体的标志  

![显示标志位](http://data.14log.com/images/microcomputer/debug.png "汇编debug显示")  

### 8086总线周期的概念

CPU的总线接口部件通过外部总线进行取值和传送数据，这一个过程称为总线操作。则总线周期就是常说的总线操作周期。  

在8086中一个总线周期是由4个时钟周期组成的，我们常将4个时钟周期分别称为4个状态，即T1状态，T2状态，T3状态，T4状态。  

1. `T1状态`是往多路复用总线上产生地址信息，指出要访问的内存单元或端口的地址  
2. `T2状态`要将总线的低16位设成高阻态，为传输数据做准备。即进行一些外部总线状态的转换，产生各种控制信号。  
3. `T3状态`在总线的低16位上进行CPU到存储器或端口之间传送数据。  
4. `T4状态`总线周期结束。  

**注意**：在T3时刻，由于外设或存储器的速度较慢，常常不能配合CPU及时的传送数据。CPU会在T3之后插入一个或多个附加的时钟周期Tw（等待状态）。如图：  

![总线周期序列](http://data.14log.com/images/microcomputer/BusPeriSeq.png "总线周期序列")  

**Q&A**：CPU什么时候才会执行总线周期？？  
> 只有在CPU和内存或I/O接口之间传输数据，以及填充指令队列的时候。  
  
# 2、8086引脚信号和工作模式

8086的引脚信号如图